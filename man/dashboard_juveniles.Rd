% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{dashboard_juveniles}
\alias{dashboard_juveniles}
\title{Crear dashboard visual para el análisis de juveniles}
\usage{
dashboard_juveniles(
  data_total,
  col_fecha = NULL,
  cols_tallas = NULL,
  limite_juv = 12,
  a = 1e-04,
  b = 2.984,
  col_latitud = NULL,
  col_longitud = NULL,
  col_captura = NULL,
  col_juveniles = NULL,
  xlim = c(-85, -70),
  ylim = c(-20, 0),
  show_limit_juv = TRUE,
  paleta = NULL,
  ordenar_comparacion = FALSE,
  titulo_comp = NULL,
  titulo_captura = NULL,
  titulo_mapa = NULL,
  titulo_relacion = NULL
)
}
\arguments{
\item{data_total}{Data frame con los datos de capturas, tallas y ubicaciones.
Debe contener información sobre fechas, tallas, coordenadas y capturas.}

\item{col_fecha}{Nombre de la columna que contiene las fechas. Si es NULL,
la función intentará detectarla automáticamente.}

\item{cols_tallas}{Vector con los nombres de las columnas que contienen las
frecuencias de tallas. Si es NULL, la función intentará detectarlas automáticamente.}

\item{limite_juv}{Valor numérico que representa el límite legal para definir
juveniles (en cm). El valor predeterminado es 12.}

\item{a}{Parámetro 'a' de la relación longitud-peso (W = a*L^b). El valor predeterminado
es 0.0001.}

\item{b}{Parámetro 'b' de la relación longitud-peso (W = a*L^b). El valor predeterminado
es 2.984.}

\item{col_latitud}{Nombre de la columna que contiene la latitud. Si es NULL,
la función intentará detectarla automáticamente.}

\item{col_longitud}{Nombre de la columna que contiene la longitud. Si es NULL,
la función intentará detectarla automáticamente.}

\item{col_captura}{Nombre de la columna que contiene las capturas. Si es NULL,
la función intentará detectarla automáticamente.}

\item{col_juveniles}{Nombre de la columna que contiene el porcentaje de juveniles.
Si es NULL, la función intentará detectarla automáticamente.}

\item{xlim}{Vector numérico de longitud 2 que define los límites del eje x para el mapa.
Por defecto c(-85, -70) para cubrir la costa peruana.}

\item{ylim}{Vector numérico de longitud 2 que define los límites del eje y para el mapa.
Por defecto c(-20, 0) para cubrir la costa peruana.}

\item{show_limit_juv}{Lógico. Si es TRUE, se mostrará una línea de referencia para
el límite de juveniles en los gráficos apropiados.}

\item{paleta}{Vector de colores personalizado para los gráficos. Si es NULL,
se usará una paleta predeterminada.}

\item{ordenar_comparacion}{Lógico. Si es TRUE, el gráfico de comparación de porcentajes
se ordenará de mayor a menor. El valor predeterminado es FALSE.}

\item{titulo_comp}{Título para el gráfico de comparación de juveniles.}

\item{titulo_captura}{Título para el gráfico de captura acumulada.}

\item{titulo_mapa}{Título para el mapa de distribución espacial.}

\item{titulo_relacion}{Título para el gráfico de porcentaje de juveniles suavizado.}
}
\value{
Una lista con los siguientes componentes:
\item{comparacion}{Gráfico de barras comparando juveniles por número y peso}
\item{captura_acumulada}{Gráfico de área mostrando la captura acumulada a lo largo del tiempo}
\item{mapa_juveniles}{Mapa que muestra la distribución espacial de juveniles}
\item{relacion}{Gráfico de tendencias suavizadas de porcentaje de juveniles}
\item{dashboard}{Si el paquete patchwork está instalado, un dashboard combinado de todos los gráficos}
}
\description{
Genera un conjunto de visualizaciones en formato dashboard para analizar la proporción
de juveniles en capturas pesqueras. El dashboard incluye:
\itemize{
\item Una comparación de juveniles en número y peso
\item Un gráfico de captura acumulada
\item Un mapa de distribución espacial de juveniles
\item Una visualización de tendencias de porcentaje de juveniles
}
}
\examples{
\dontrun{

data_calas <- procesar_calas(data_calas = calas_bitacora)
data_faenas <- procesar_faenas(data_faenas = faenas_bitacora)
calas_tallas <- procesar_tallas(data_tallas = tallas_bitacora)

# Integrar datos
data_tallasfaenas <- merge(x = data_faenas, y = calas_tallas, by = 'codigo_faena')
data_total <- merge_tallas_faenas_calas(data_calas = data_calas,
                                       data_tallas_faenas = data_tallasfaenas)
datos_final <- agregar_variables(data_total)

# Preparar datos de tallas
tallas_cols <- c("8", "8.5", "9", "9.5", "10", "10.5", "11", "11.5",
                "12", "12.5", "13", "13.5", "14", "14.5", "15")

# Ponderar tallas por captura
resultado <- ponderar_tallas_df(
  df = datos_final,
  tallas_cols = tallas_cols,
  captura_col = "catch_ANCHOVETA",
  a = 0.0001,
  b = 2.984
)

# Preparar datos para análisis
resultado$fecha_unica <- convertir_a_fecha(resultado$fecha_inicio_cala, tipo = "date")
resultado$catch_t <- resultado$catch_ANCHOVETA/1000  # Convertir a toneladas

# Crear dashboard
dashboard <- dashboard_juveniles(
  data_total = resultado,
  col_fecha = "fecha_unica",
  cols_tallas = paste0("pond_", seq(8, 15, 0.5)),
  limite_juv = 12,
  a = 0.0001,
  b = 2.984,
  col_latitud = "lat_final",
  col_longitud = "lon_final",
  col_captura = "catch_t",
  col_juveniles = "juv",
  show_limit_juv = TRUE
)

# Visualizar componentes individuales
dashboard$comparacion
dashboard$captura_acumulada
dashboard$mapa_juveniles
dashboard$relacion

# Visualizar dashboard completo
dashboard$dashboard
}
}
