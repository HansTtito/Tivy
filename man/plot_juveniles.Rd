% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{plot_juveniles}
\alias{plot_juveniles}
\title{Plot juvenile percentages (by number and weight)}
\usage{
plot_juveniles(
  juvenile_data,
  var_x,
  fill_var = NULL,
  plot_type = "bars",
  title = NULL,
  juv_limit = NULL,
  sort_by = "x",
  palette = NULL,
  facet_var = NULL,
  ncol = 2
)
}
\arguments{
\item{juvenile_data}{Data frame with results from \code{juveniles_by_group}.}

\item{var_x}{Name of the variable to use on the X axis of the plot (e.g., "unique_date").}

\item{fill_var}{(Optional) Variable to group and color the bars or lines (e.g., "vessel").}

\item{plot_type}{Type of plot to show: "bars" (default), "lines", "points", "mixed", or "boxplot".}

\item{title}{(Optional) Main title of the plot.}

\item{juv_limit}{(Optional) Threshold value representing the legal limit for juvenile percentage; added as a horizontal line.}

\item{sort_by}{Criterion to sort the X axis: "x" (default, sort by var_x), "number", "weight" or "total".}

\item{palette}{(Optional) Vector of custom colors.}

\item{facet_var}{(Optional) Variable to divide the plot into subplots (facets).}

\item{ncol}{Number of columns for faceting (default 2).}
}
\value{
A \code{ggplot} object representing the generated plot. It can be customized or printed directly.
}
\description{
Generates visualizations to explore juvenile percentages based on
a selected variable (e.g., date or vessel). The data should
come from the \code{juveniles_by_group} function, which summarizes the proportion of juveniles
by group according to length and catch.
}
\details{
The function allows choosing between different chart types (bars, lines, points,
mixed or boxplots) and customizing options such as colors, sorting, and faceting.
It is also possible to add a reference line corresponding to the legal
juvenile limit.
}
\examples{
# Data processing
data_hauls <- process_hauls(data_hauls = calas_bitacora)
data_fishing_trips <- process_fishing_trips(data_fishing_trips = faenas_bitacora)
hauls_length <- process_length(data_length = tallas_bitacora)

data_length_fishing_trips <- merge(
   x = data_fishing_trips, 
   y = hauls_length,
   by = "fishing_trip_code"
)

data_total <- merge_length_fishing_trips_hauls(
   data_hauls = data_hauls, 
   data_length_fishing_trips = data_length_fishing_trips
)

final_data <- add_variables(data_total)
length_cols <- c("8", "8.5", "9", "9.5", "10", "10.5",
                 "11", "11.5", "12","12.5", "13", 
                 "13.5", "14", "14.5", "15")

results <- weight_length_df(df = final_data, length_cols = length_cols,
                                catch_col = "catch_ANCHOVETA", a = 0.0001, b = 2.984)

results$unique_date <- convert_to_date(results$start_date_haul, type = "date")

juvenile_results <- juveniles_by_group(data = results,
                                           group_cols = c("unique_date"),
                                           cols_length = length_cols)

# Bar chart of juvenile percentages by date
plot_juveniles(
  juvenile_data = juvenile_results,
  var_x = "unique_date",
  juv_limit = 12
)
}
