% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{plot_juveniles}
\alias{plot_juveniles}
\title{Plot juvenile percentages (by number and weight)}
\usage{
plot_juveniles(
  df,
  var_x,
  fill_var = NULL,
  cols_length = NULL,
  a = 0.0012,
  b = 3.1242,
  step_x_date = NULL,
  plot_type = "bars",
  title = NULL,
  subtitle = NULL,
  sort_by = "x",
  palette = NULL,
  facet_var = NULL,
  ncol = 2,
  position = "dodge",
  y_limits = c(0, 100),
  use_facet_wrap = TRUE,
  group_by_type = TRUE,
  reference_line = NULL,
  theme_type = "light",
  legend_position = "bottom",
  rotate_x_labels = TRUE,
  na_to_zero = FALSE
)
}
\arguments{
\item{df}{Data frame containing juvenile data}

\item{var_x}{Name of the variable for the X axis}

\item{fill_var}{Optional. Name of the variable for fill color}

\item{cols_length}{Vector of column names containing length frequencies}

\item{a}{Parameter 'a' for the length-weight relationship}

\item{b}{Parameter 'b' for the length-weight relationship}

\item{step_x_date}{Optional. Interval for date breaks (e.g., "1 day", "1 month")}

\item{plot_type}{Type of chart: "bars", "lines", "points", or "mixed"}

\item{title}{Optional. Chart title}

\item{subtitle}{Optional. Chart subtitle}

\item{sort_by}{How to sort data: "x", "number", or "weight"}

\item{palette}{Optional. Vector of colors for the chart}

\item{facet_var}{Optional. Name of variable for additional faceting}

\item{ncol}{Number of columns in the facet grid}

\item{position}{Position adjustment for bars: "dodge", "stack", or "fill"}

\item{y_limits}{Optional. Numeric vector with min and max for Y axis}

\item{use_facet_wrap}{Logical. Whether to use facet_wrap to separate by type}

\item{group_by_type}{Logical. When use_facet_wrap=FALSE, whether to use transparency to distinguish by type}

\item{reference_line}{Optional. Value for reference line (e.g., legal limit)}

\item{theme_type}{Type of theme: "classic", "minimal", "light", or "dark"}

\item{legend_position}{Legend position: "bottom", "right", "left", or "top"}

\item{rotate_x_labels}{Logical. Whether to rotate X axis labels}

\item{na_to_zero}{Logical. Whether to convert NA values to zeros (to complete categories)}
}
\value{
A \code{ggplot} object representing the generated plot. It can be customized or printed directly.
}
\description{
Generates visualizations to explore juvenile percentages based on
a selected variable (e.g., date or vessel). The data should
come from the \code{juveniles_by_group} function, which summarizes the proportion of juveniles
by group according to length and catch.
}
\details{
The function allows choosing between different chart types (bars, lines, points,
mixed or boxplots) and customizing options such as colors, sorting, and faceting.
It is also possible to add a reference line corresponding to the legal
juvenile limit.
}
\examples{
# Data processing
data_hauls <- process_hauls(data_hauls = calas_bitacora)
data_fishing_trips <- process_fishing_trips(data_fishing_trips = faenas_bitacora)
hauls_length <- process_length(data_length = tallas_bitacora)

data_length_fishing_trips <- merge(
   x = data_fishing_trips,
   y = hauls_length,
   by = "fishing_trip_code"
)

data_total <- merge_length_fishing_trips_hauls(
   data_hauls = data_hauls,
   data_length_fishing_trips = data_length_fishing_trips
)

final_data <- add_variables(data_total)
length_cols <- c("8", "8.5", "9", "9.5", "10", "10.5",
                 "11", "11.5", "12","12.5", "13",
                 "13.5", "14", "14.5", "15")

results <- weight_length_df(df = final_data, length_cols = length_cols,
                                catch_col = "catch_ANCHOVETA", a = 0.0001, b = 2.984)

results$unique_date <- convert_to_date(results$start_date_haul, type = "date")


# Bar chart of juvenile percentages by date
plot_juveniles(
  df = results,
  var_x = "unique_date",
  cols_length = paste0("pond_", length_cols),
  a = 0.0001,
  b = 2.984
)
}
